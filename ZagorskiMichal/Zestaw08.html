<!DOCTYPE html>
<html  dir="ltr" lang="pl" xml:lang="pl">
<head>
    <title>Zadanie - Zestaw 8 - Wątki, sygnały w programach wielowątkowych</title>
    <link rel="shortcut icon" href="http://upel.agh.edu.pl/wiet/theme/image.php/centrumelearningu/theme/1472209029/favicon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="moodle, Zadanie" />
<link rel="stylesheet" type="text/css" href="http://upel.agh.edu.pl/wiet/theme/yui_combo.php?rollup/3.17.2/yui-moodlesimple-min.css" /><script id="firstthemesheet" type="text/css">/** Required in order to fix style inclusion problems in IE with YUI **/</script><link rel="stylesheet" type="text/css" href="http://upel.agh.edu.pl/wiet/theme/styles.php/centrumelearningu/1472209029/all" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
	
	
	</head>

<body  id="page-mod-assign-view" class="format-weeks  path-mod path-mod-assign gecko dir-ltr lang-pl yui-skin-sam yui3-skin-sam upel-agh-edu-pl--wiet pagelayout-incourse course-279 context-21963 cmid-7480 category-2 has-region-side-pre used-region-side-pre has-region-side-post empty-region-side-post side-pre-only">




<div id="page" class="container-fluid">
    <header id="page-header" class="clearfix"><div class="page-context-header"><div class="page-header-headings"><h1>Systemy operacyjne 2015/2016</h1></div></div></header>    
    <div id="page-content" class="row-fluid">
        <div id="region-main-box" class="span9">
            <div class="row-fluid">
                <section id="region-main" class="span8 pull-left">
                    <span class="notifications" id="user-notifications"></span><div role="main"><span id="maincontent"></span><h2>Zadania - Zestaw 8</h2><div id="intro" class="box generalbox boxaligncenter"><div class="no-overflow"><div class="box generalbox boxaligncenter">
<div class="no-overflow">
<h2 style="text-align: left;">Zadanie 1</h2>
<p style="text-align: left;">Napisz program przyjmujący cztery argumenty: ilość wątków, nazwę pliku, ilość rekordów czytanych przez wątek w pojedynczym odczycie i słowo do wyszukania w rekordzie. Plik zawiera rekordy o stałym rozmiarze 1024 bajtów. Rekord składa się z pola <strong>id</strong> (int) oraz z pola <strong>text </strong>(pozostały rozmiar rekordu). Program otwiera plik przekazany w argumencie, po czym tworzy zadaną ilość wątków. Wątki czytają naprzemiennie funkcją read ustalone ilości rekordów z otwartego pliku. Wątki powinny przechowywać czytane rekordy pliku w swoich danych własnych. W polach text rekordów wątki poszukują słowa przekazanego przez parametr. Po odszukaniu zadanego słowa wątek powinien wypisać na ekran swój identyfikator (TID) i id rekordu.</p>
<p style="text-align: left;">Stwórz trzy wersje programu. W wersji pierwszej, po odszukaniu słowa wątek anuluje asynchronicznie wszystkie pozostałe wątki i kończy pracę. W wersji drugiej wątek, który odszukał napis również anuluje pozostałe wątki, lecz anulowanie jest synchroniczne - punktem anulowania wątku jest zakończenie przetwarzania wczytanej ilości rekordów do danych prywatnych. W wersji trzeciej wszystkie wątki powinny być odłączone a warunkiem zakończenia wątku jest odczytanie wszystkich rekordów pliku.</p>
<h2 style="text-align: left;">Zadanie 2</h2>
<p style="text-align: left;">a) Przeprowadź testy dotyczące zachowania się wątków w reakcji na nadchodzące sygnały. Uwzględnij następujące sygnały: SIGUSR1, SIGTERM, SIGKILL, SIGSTOP. Poddaj odpowiednim modyfikacjom program użyty w Zadaniu 1.</p>
<p style="text-align: left;">Wyślij te sygnały do całego procesu (kill) oraz do poszczególnych wątków (kill/pthread_kill). Opisz w pliku „zad2.raport” rezultaty poniższych działań, biorąc pod uwagę, które watki zostały zatrzymane lub zabite i jakie komunikaty zostały wypisane. Odrzuć te działania, które ze względu na właściwości poszczególnych sygnałów są niemożliwe do wykonania. <br /> Oto operacje do przetestowania wyników:</p>
<ol style="text-align: left;">
<li>wysłanie sygnału do procesu, gdy żaden wątek nie ma zamaskowanego tego sygnału</li>
<li>wysłanie sygnału do procesu, gdy główny wątek programu ma zamaskowany ten sygnał, a wszystkie pozostałe wątki nie,</li>
<li>wysłanie sygnału do procesu, gdy wszystkie wątki mają zainstalowaną niestandardową procedurę obsługi przerwania, która wypisuje informację o nadejściu tego sygnału oraz PID i TID danego wątku</li>
<li>wysłanie sygnału do wątku z zamaskowanym tym sygnałem</li>
<li>wysłanie sygnału do wątku, w którym zmieniona jest procedura obsługi sygnału, jak przedstawiono w punkcie 3</li>
</ol>
<p style="text-align: left;">Zaznacz, jeśli są jakieś różnice w zależności od rodzaju sygnału.<br /><br />b) Spraw, by w jednym z wątków następowało dzielenie przez zero i by był wygenerowany odpowiedni sygnał. Jak reaguje na niego wątek, który spowodował tę sytuację, a jak inne wątki wchodzące w skład tego samego procesu? Umieść odpowiedź w pliku <i> zad2.raport </i>. Zaznacz dla jakiego rodzaju systemu operacyjnego i wersji jądra były przeprowadzane testy i jaki to był komputer.</p>
</div>
</div></div></div></div>                
</section>
</div></div>

</body>
</html>
